module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){!function(){var t=n(5),r=n(2).utf8,i=n(6),o=n(2).bin,s=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?o.stringToBytes(e):r.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var a=t.bytesToWords(e),u=8*e.length,l=1732584193,c=-271733879,d=-1732584194,h=271733878,p=0;p<a.length;p++)a[p]=16711935&(a[p]<<8|a[p]>>>24)|4278255360&(a[p]<<24|a[p]>>>8);a[u>>>5]|=128<<u%32,a[14+(u+64>>>9<<4)]=u;var f=s._ff,g=s._gg,m=s._hh,y=s._ii;for(p=0;p<a.length;p+=16){var b=l,v=c,w=d,N=h;c=y(c=y(c=y(c=y(c=m(c=m(c=m(c=m(c=g(c=g(c=g(c=g(c=f(c=f(c=f(c=f(c,d=f(d,h=f(h,l=f(l,c,d,h,a[p+0],7,-680876936),c,d,a[p+1],12,-389564586),l,c,a[p+2],17,606105819),h,l,a[p+3],22,-1044525330),d=f(d,h=f(h,l=f(l,c,d,h,a[p+4],7,-176418897),c,d,a[p+5],12,1200080426),l,c,a[p+6],17,-1473231341),h,l,a[p+7],22,-45705983),d=f(d,h=f(h,l=f(l,c,d,h,a[p+8],7,1770035416),c,d,a[p+9],12,-1958414417),l,c,a[p+10],17,-42063),h,l,a[p+11],22,-1990404162),d=f(d,h=f(h,l=f(l,c,d,h,a[p+12],7,1804603682),c,d,a[p+13],12,-40341101),l,c,a[p+14],17,-1502002290),h,l,a[p+15],22,1236535329),d=g(d,h=g(h,l=g(l,c,d,h,a[p+1],5,-165796510),c,d,a[p+6],9,-1069501632),l,c,a[p+11],14,643717713),h,l,a[p+0],20,-373897302),d=g(d,h=g(h,l=g(l,c,d,h,a[p+5],5,-701558691),c,d,a[p+10],9,38016083),l,c,a[p+15],14,-660478335),h,l,a[p+4],20,-405537848),d=g(d,h=g(h,l=g(l,c,d,h,a[p+9],5,568446438),c,d,a[p+14],9,-1019803690),l,c,a[p+3],14,-187363961),h,l,a[p+8],20,1163531501),d=g(d,h=g(h,l=g(l,c,d,h,a[p+13],5,-1444681467),c,d,a[p+2],9,-51403784),l,c,a[p+7],14,1735328473),h,l,a[p+12],20,-1926607734),d=m(d,h=m(h,l=m(l,c,d,h,a[p+5],4,-378558),c,d,a[p+8],11,-2022574463),l,c,a[p+11],16,1839030562),h,l,a[p+14],23,-35309556),d=m(d,h=m(h,l=m(l,c,d,h,a[p+1],4,-1530992060),c,d,a[p+4],11,1272893353),l,c,a[p+7],16,-155497632),h,l,a[p+10],23,-1094730640),d=m(d,h=m(h,l=m(l,c,d,h,a[p+13],4,681279174),c,d,a[p+0],11,-358537222),l,c,a[p+3],16,-722521979),h,l,a[p+6],23,76029189),d=m(d,h=m(h,l=m(l,c,d,h,a[p+9],4,-640364487),c,d,a[p+12],11,-421815835),l,c,a[p+15],16,530742520),h,l,a[p+2],23,-995338651),d=y(d,h=y(h,l=y(l,c,d,h,a[p+0],6,-198630844),c,d,a[p+7],10,1126891415),l,c,a[p+14],15,-1416354905),h,l,a[p+5],21,-57434055),d=y(d,h=y(h,l=y(l,c,d,h,a[p+12],6,1700485571),c,d,a[p+3],10,-1894986606),l,c,a[p+10],15,-1051523),h,l,a[p+1],21,-2054922799),d=y(d,h=y(h,l=y(l,c,d,h,a[p+8],6,1873313359),c,d,a[p+15],10,-30611744),l,c,a[p+6],15,-1560198380),h,l,a[p+13],21,1309151649),d=y(d,h=y(h,l=y(l,c,d,h,a[p+4],6,-145523070),c,d,a[p+11],10,-1120210379),l,c,a[p+2],15,718787259),h,l,a[p+9],21,-343485551),l=l+b>>>0,c=c+v>>>0,d=d+w>>>0,h=h+N>>>0}return t.endian([l,c,d,h])};s._ff=function(e,t,n,r,i,o,s){var a=e+(t&n|~t&r)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},s._gg=function(e,t,n,r,i,o,s){var a=e+(t&r|n&~r)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},s._hh=function(e,t,n,r,i,o,s){var a=e+(t^n^r)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},s._ii=function(e,t,n,r,i,o,s){var a=e+(n^(t|~r))+(i>>>0)+s;return(a<<o|a>>>32-o)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(s(e,n));return n&&n.asBytes?r:n&&n.asString?o.bytesToString(r):t.bytesToHex(r)}}()},function(e,t){function n(e,t){for(var n in e)t[n]=e[n]}function r(e,t){var r=e.prototype;if(Object.create){var i=Object.create(t.prototype);r.__proto__=i}if(!(r instanceof t)){function o(){}o.prototype=t.prototype,n(r,o=new o),e.prototype=r=o}r.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),r.constructor=e)}var i="http://www.w3.org/1999/xhtml",o={},s=o.ELEMENT_NODE=1,a=o.ATTRIBUTE_NODE=2,u=o.TEXT_NODE=3,l=o.CDATA_SECTION_NODE=4,c=o.ENTITY_REFERENCE_NODE=5,d=o.ENTITY_NODE=6,h=o.PROCESSING_INSTRUCTION_NODE=7,p=o.COMMENT_NODE=8,f=o.DOCUMENT_NODE=9,g=o.DOCUMENT_TYPE_NODE=10,m=o.DOCUMENT_FRAGMENT_NODE=11,y=o.NOTATION_NODE=12,b={},v={},w=(b.INDEX_SIZE_ERR=(v[1]="Index size error",1),b.DOMSTRING_SIZE_ERR=(v[2]="DOMString size error",2),b.HIERARCHY_REQUEST_ERR=(v[3]="Hierarchy request error",3)),N=(b.WRONG_DOCUMENT_ERR=(v[4]="Wrong document",4),b.INVALID_CHARACTER_ERR=(v[5]="Invalid character",5),b.NO_DATA_ALLOWED_ERR=(v[6]="No data allowed",6),b.NO_MODIFICATION_ALLOWED_ERR=(v[7]="No modification allowed",7),b.NOT_FOUND_ERR=(v[8]="Not found",8)),_=(b.NOT_SUPPORTED_ERR=(v[9]="Not supported",9),b.INUSE_ATTRIBUTE_ERR=(v[10]="Attribute in use",10));b.INVALID_STATE_ERR=(v[11]="Invalid state",11),b.SYNTAX_ERR=(v[12]="Syntax error",12),b.INVALID_MODIFICATION_ERR=(v[13]="Invalid modification",13),b.NAMESPACE_ERR=(v[14]="Invalid namespace",14),b.INVALID_ACCESS_ERR=(v[15]="Invalid access",15);function T(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,v[e]),this.message=v[e],Error.captureStackTrace&&Error.captureStackTrace(this,T);return n.code=e,t&&(this.message=this.message+": "+t),n}function E(){}function x(e,t){this._node=e,this._refresh=t,S(this)}function S(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);ne(e,"length",r.length),n(r,e),e._inc=t}}function D(){}function O(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function C(e,t,n,r){if(r?t[O(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&M(i,e,r),function(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(i,e,n))}}function A(e,t,n){var r=O(t,n);if(!(r>=0))throw T(N,new Error(e.tagName+"@"+n));for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var o=e.ownerDocument;o&&(M(o,e,n),n.ownerElement=null)}}function j(e){if(this._features={},e)for(var t in e)this._features=e[t]}function I(){}function R(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function F(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(F(e,t))return!0}while(e=e.nextSibling)}function k(){}function M(e,t,n,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function L(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o}}}function B(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,L(e.ownerDocument,e),t}function V(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===m){var i=t.firstChild;if(null==i)return t;var o=t.lastChild}else i=o=t;var s=n?n.previousSibling:e.lastChild;i.previousSibling=s,o.nextSibling=n,s?s.nextSibling=i:e.firstChild=i,null==n?e.lastChild=o:n.previousSibling=o;do{i.parentNode=e}while(i!==o&&(i=i.nextSibling));return L(e.ownerDocument||e,e),t.nodeType==m&&(t.firstChild=t.lastChild=null),t}function $(){this._nsMap={}}function P(){}function U(){}function X(){}function q(){}function z(){}function H(){}function G(){}function Y(){}function W(){}function J(){}function Z(){}function Q(){}function K(e,t){var n=[],r=9==this.nodeType?this.documentElement:this,i=r.prefix,o=r.namespaceURI;if(o&&null==i&&null==(i=r.lookupPrefix(o)))var s=[{namespace:o,prefix:null}];return te(this,n,e,t,s),n.join("")}function ee(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!r&&!i)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var o=n.length;o--;){var s=n[o];if(s.prefix==r)return s.namespace!=i}return!0}function te(e,t,n,r,o){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case s:o||(o=[]);o.length;var d=e.attributes,y=d.length,b=e.firstChild,v=e.tagName;n=i===e.namespaceURI||n,t.push("<",v);for(var w=0;w<y;w++){"xmlns"==(N=d.item(w)).prefix?o.push({prefix:N.localName,namespace:N.value}):"xmlns"==N.nodeName&&o.push({prefix:"",namespace:N.value})}for(w=0;w<y;w++){var N;if(ee(N=d.item(w),0,o)){var _=N.prefix||"",T=N.namespaceURI,E=_?" xmlns:"+_:" xmlns";t.push(E,'="',T,'"'),o.push({prefix:_,namespace:T})}te(N,t,n,r,o)}if(ee(e,0,o)){_=e.prefix||"",T=e.namespaceURI,E=_?" xmlns:"+_:" xmlns";t.push(E,'="',T,'"'),o.push({prefix:_,namespace:T})}if(b||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(v)){if(t.push(">"),n&&/^script$/i.test(v))for(;b;)b.data?t.push(b.data):te(b,t,n,r,o),b=b.nextSibling;else for(;b;)te(b,t,n,r,o),b=b.nextSibling;t.push("</",v,">")}else t.push("/>");return;case f:case m:for(b=e.firstChild;b;)te(b,t,n,r,o),b=b.nextSibling;return;case a:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,R),'"');case u:return t.push(e.data.replace(/[<&]/g,R));case l:return t.push("<![CDATA[",e.data,"]]>");case p:return t.push("\x3c!--",e.data,"--\x3e");case g:var x=e.publicId,S=e.systemId;if(t.push("<!DOCTYPE ",e.name),x)t.push(' PUBLIC "',x),S&&"."!=S&&t.push('" "',S),t.push('">');else if(S&&"."!=S)t.push(' SYSTEM "',S,'">');else{var D=e.internalSubset;D&&t.push(" [",D,"]"),t.push(">")}return;case h:return t.push("<?",e.target," ",e.data,"?>");case c:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ne(e,t,n){e[t]=n}T.prototype=Error.prototype,n(b,T),E.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)te(this[r],n,e,t);return n.join("")}},x.prototype.item=function(e){return S(this),this[e]},r(x,E),D.prototype={length:0,item:E.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new T(_);var n=this.getNamedItem(e.nodeName);return C(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new T(_);return t=this.getNamedItemNS(e.namespaceURI,e.localName),C(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return A(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return A(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},j.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new k;if(r.implementation=this,r.childNodes=new E,r.doctype=n,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new H;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},I.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return V(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return B(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,n,r){var i=new n.constructor;for(var o in n){var u=n[o];"object"!=typeof u&&u!=i[o]&&(i[o]=u)}n.childNodes&&(i.childNodes=new E);i.ownerDocument=t;switch(i.nodeType){case s:var l=n.attributes,c=i.attributes=new D,d=l.length;c._ownerElement=i;for(var h=0;h<d;h++)i.setAttributeNode(e(t,l.item(h),!0));break;case a:r=!0}if(r)for(var p=n.firstChild;p;)i.appendChild(e(t,p,r)),p=p.nextSibling;return i}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==u&&e.nodeType==u?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==a?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==a?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},n(o,I),n(o,I.prototype),k.prototype={nodeName:"#document",nodeType:f,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==m){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==s&&(this.documentElement=e),V(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),B(this,e)},importNode:function(e,t){return function e(t,n,r){var i;switch(n.nodeType){case s:(i=n.cloneNode(!1)).ownerDocument=t;case m:break;case a:r=!0}i||(i=n.cloneNode(!1));i.ownerDocument=t;i.parentNode=null;if(r)for(var o=n.firstChild;o;)i.appendChild(e(t,o,r)),o=o.nextSibling;return i}(this,e,t)},getElementById:function(e){var t=null;return F(this.documentElement,function(n){if(n.nodeType==s&&n.getAttribute("id")==e)return t=n,!0}),t},createElement:function(e){var t=new $;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new E,(t.attributes=new D)._ownerElement=t,t},createDocumentFragment:function(){var e=new J;return e.ownerDocument=this,e.childNodes=new E,e},createTextNode:function(e){var t=new X;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new q;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new z;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new Z;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new P;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new W;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new $,r=t.split(":"),i=n.attributes=new D;return n.childNodes=new E,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new P,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},r(k,I),$.prototype={nodeType:s,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===m?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t),r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,L(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new x(this,function(t){var n=[];return F(t,function(r){r===t||r.nodeType!=s||"*"!==e&&r.tagName!=e||n.push(r)}),n})},getElementsByTagNameNS:function(e,t){return new x(this,function(n){var r=[];return F(n,function(i){i===n||i.nodeType!==s||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)}),r})}},k.prototype.getElementsByTagName=$.prototype.getElementsByTagName,k.prototype.getElementsByTagNameNS=$.prototype.getElementsByTagNameNS,r($,I),P.prototype.nodeType=a,r(P,I),U.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(v[w])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},r(U,I),X.prototype={nodeName:"#text",nodeType:u,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(X,U),q.prototype={nodeName:"#comment",nodeType:p},r(q,U),z.prototype={nodeName:"#cdata-section",nodeType:l},r(z,U),H.prototype.nodeType=g,r(H,I),G.prototype.nodeType=y,r(G,I),Y.prototype.nodeType=d,r(Y,I),W.prototype.nodeType=c,r(W,I),J.prototype.nodeName="#document-fragment",J.prototype.nodeType=m,r(J,I),Z.prototype.nodeType=h,r(Z,I),Q.prototype.serializeToString=function(e,t,n){return K.call(e,t,n)},I.prototype.toString=K;try{if(Object.defineProperty){Object.defineProperty(x.prototype,"length",{get:function(){return S(this),this.$$length}}),Object.defineProperty(I.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case s:case m:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case s:case m:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ne=function(e,t,n){e["$$"+t]=n}}}catch(e){}t.DOMImplementation=j,t.XMLSerializer=Q},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){function r(e){this.options=e||{locator:{}}}function i(){this.cdata=!1}function o(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function s(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function a(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function u(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new l,o=n.domBuilder||new i,a=n.errorHandler,u=n.locator,c=n.xmlns||{},d={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&o.setDocumentLocator(u),r.errorHandler=function(e,t,n){if(!e){if(t instanceof i)return t;e=t}var r={},o=e instanceof Function;function a(t){var i=e[t];!i&&o&&(i=2==e.length?function(n){e(t,n)}:e),r[t]=i&&function(e){i("[xmldom "+t+"]\t"+e+s(n))}||function(){}}return n=n||{},a("warning"),a("error"),a("fatalError"),r}(a,o,u),r.domBuilder=n.domBuilder||o,/\/x?html?$/.test(t)&&(d.nbsp=" ",d.copy="©",c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",e?r.parse(e,c,d):r.errorHandler.error("invalid doc source"),o.doc},i.prototype={startDocument:function(){this.doc=(new c).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,s=i.createElementNS(e,n||t),a=r.length;u(this,s),this.currentElement=s,this.locator&&o(this.locator,s);for(var l=0;l<a;l++){e=r.getURI(l);var c=r.getValue(l),d=(n=r.getQName(l),i.createAttributeNS(e,n));this.locator&&o(r.getLocator(l),d),d.value=d.nodeValue=c,s.setAttributeNode(d)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&o(this.locator,n),u(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=a.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&o(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=a.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&o(this.locator,r),u(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&o(this.locator,i),u(this,i)}},warning:function(e){console.warn("[xmldom warning]\t"+e,s(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,s(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,s(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){i.prototype[e]=function(){return null}});var l=n(4).XMLReader,c=t.DOMImplementation=n(1).DOMImplementation;t.XMLSerializer=n(1).XMLSerializer,t.DOMParser=r},function(e,t){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$"),o=0,s=1,a=2,u=3,l=4,c=5,d=6,h=7;function p(){}function f(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function g(e,t,n,r,i,p){for(var f,g=++t,m=o;;){var y=e.charAt(g);switch(y){case"=":if(m===s)f=e.slice(t,g),m=u;else{if(m!==a)throw new Error("attribute equal must after attrName");m=u}break;case"'":case'"':if(m===u||m===s){if(m===s&&(p.warning('attribute value must after "="'),f=e.slice(t,g)),t=g+1,!((g=e.indexOf(y,t))>0))throw new Error("attribute value no end '"+y+"' match");b=e.slice(t,g).replace(/&#?\w+;/g,i),n.add(f,b,t-1),m=c}else{if(m!=l)throw new Error('attribute value must after "="');b=e.slice(t,g).replace(/&#?\w+;/g,i),n.add(f,b,t),p.warning('attribute "'+f+'" missed start quot('+y+")!!"),t=g+1,m=c}break;case"/":switch(m){case o:n.setTagName(e.slice(t,g));case c:case d:case h:m=h,n.closed=!0;case l:case s:case a:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return p.error("unexpected end of input"),m==o&&n.setTagName(e.slice(t,g)),g;case">":switch(m){case o:n.setTagName(e.slice(t,g));case c:case d:case h:break;case l:case s:"/"===(b=e.slice(t,g)).slice(-1)&&(n.closed=!0,b=b.slice(0,-1));case a:m===a&&(b=f),m==l?(p.warning('attribute "'+b+'" missed quot(")!!'),n.add(f,b.replace(/&#?\w+;/g,i),t)):("http://www.w3.org/1999/xhtml"===r[""]&&b.match(/^(?:disabled|checked|selected)$/i)||p.warning('attribute "'+b+'" missed value!! "'+b+'" instead!!'),n.add(b,b,t));break;case u:throw new Error("attribute value missed!!")}return g;case"":y=" ";default:if(y<=" ")switch(m){case o:n.setTagName(e.slice(t,g)),m=d;break;case s:f=e.slice(t,g),m=a;break;case l:var b=e.slice(t,g).replace(/&#?\w+;/g,i);p.warning('attribute "'+b+'" missed quot(")!!'),n.add(f,b,t);case c:m=d}else switch(m){case a:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&f.match(/^(?:disabled|checked|selected)$/i)||p.warning('attribute "'+f+'" missed value!! "'+f+'" instead2!!'),n.add(f,f,t),t=g,m=s;break;case c:p.warning('attribute space is required"'+f+'"!!');case d:m=s,t=g;break;case u:m=l,t=g;break;case h:throw new Error("elements closed character '/' and '>' must be connected to")}}g++}}function m(e,t,n){for(var r=e.tagName,i=null,o=e.length;o--;){var s=e[o],a=s.qName,u=s.value;if((h=a.indexOf(":"))>0)var l=s.prefix=a.slice(0,h),c=a.slice(h+1),d="xmlns"===l&&c;else c=a,l=null,d="xmlns"===a&&"";s.localName=c,!1!==d&&(null==i&&(i={},v(n,n={})),n[d]=i[d]=u,s.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(d,u))}for(o=e.length;o--;){(l=(s=e[o]).prefix)&&("xml"===l&&(s.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(s.uri=n[l||""]))}var h;(h=r.indexOf(":"))>0?(l=e.prefix=r.slice(0,h),c=e.localName=r.slice(h+1)):(l=null,c=e.localName=r);var p=e.uri=n[l||""];if(t.startElement(p,c,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=i,!0;if(t.endElement(p,c,r),i)for(l in i)t.endPrefixMapping(l)}function y(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),s=e.substring(t+1,o);if(/[&<]/.test(s))return/^script$/i.test(n)?(i.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,r),i.characters(s,0,s.length),o)}return t+1}function b(e,t,n,r){var i=r[n];return null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function v(e,t){for(var n in e)t[n]=e[n]}function w(e,t,n,r){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,i-t-4),i+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var o=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t,i.exec(e);for(;n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),s=o.length;if(s>1&&/!doctype/i.test(o[0][0])){var a=o[1][0],u=s>3&&/^public$/i.test(o[2][0])&&o[3][0],l=s>4&&o[4][0],c=o[s-1];return n.startDTD(a,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),c.index+c[0].length}}return-1}function N(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function _(e){}function T(e,t){return e.__proto__=t,e}p.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),v(t,t={}),function(e,t,n,r,i){function o(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function s(t){if(t>v){var n=e.substring(v,t).replace(/&#?\w+;/g,o);d&&a(v),r.characters(n,0,t-v),v=t}}function a(t,n){for(;t>=l&&(n=c.exec(e));)u=n.index,l=u+n[0].length,d.lineNumber++;d.columnNumber=t-u+1}var u=0,l=0,c=/.*(?:\r\n?|\n)|.*$/g,d=r.locator,h=[{currentNSMap:t}],p={},v=0;for(;;){try{var T=e.indexOf("<",v);if(T<0){if(!e.substr(v).match(/^\s*$/)){var E=r.doc,x=E.createTextNode(e.substr(v));E.appendChild(x),r.currentElement=x}return}switch(T>v&&s(T),e.charAt(T+1)){case"/":var S=e.indexOf(">",T+3),D=e.substring(T+2,S),O=h.pop();S<0?(D=e.substring(T+2).replace(/[\s<].*/,""),i.error("end tag name: "+D+" is not complete:"+O.tagName),S=T+1+D.length):D.match(/\s</)&&(D=D.replace(/[\s<].*/,""),i.error("end tag name: "+D+" maybe not complete"),S=T+1+D.length);var C=O.localNSMap,A=O.tagName==D,j=A||O.tagName&&O.tagName.toLowerCase()==D.toLowerCase();if(j){if(r.endElement(O.uri,O.localName,D),C)for(var I in C)r.endPrefixMapping(I);A||i.fatalError("end tag name: "+D+" is not match the current start tagName:"+O.tagName)}else h.push(O);S++;break;case"?":d&&a(T),S=N(e,T,r);break;case"!":d&&a(T),S=w(e,T,r,i);break;default:d&&a(T);var R=new _,F=h[h.length-1].currentNSMap,S=g(e,T,R,F,o,i),k=R.length;if(!R.closed&&b(e,S,R.tagName,p)&&(R.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),d&&k){for(var M=f(d,{}),L=0;L<k;L++){var B=R[L];a(B.offset),B.locator=f(d,{})}r.locator=M,m(R,r,F)&&h.push(R),r.locator=d}else m(R,r,F)&&h.push(R);"http://www.w3.org/1999/xhtml"!==R.uri||R.closed?S++:S=y(e,S,R.tagName,o,r)}}catch(e){i.error("element parse error: "+e),S=-1}S>v?v=S:s(Math.max(T,v)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},_.prototype={setTagName:function(e){if(!i.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!i.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},T({},T.prototype)instanceof T||(T=function(e,t){function n(){}for(t in n.prototype=t,n=new n,e)n[t]=e[t];return n}),t.XMLReader=p},function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?n.push(t.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}};e.exports=n}()},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";n.r(t);const r={ical:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns#",dcterms:"http://purl.org/dc/terms/",skos:"http://www.w3.org/2004/02/skos/core#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",owl:"http://www.w3.org/2002/07/owl#",vs:"http://www.w3.org/2003/06/sw-vocab-status/ns#",foaf:"http://xmlns.com/foaf/0.1/",wot:"http://xmlns.com/wot/0.1/",dc:"http://purl.org/dc/elements/1.1/",xsd:"http://www.w3.org/2001/XMLSchema#",dcat:"http://www.w3.org/ns/dcat#",org:"http://www.w3.org/ns/org#",gn:"http://www.geonames.org/ontology#",locn:"http://www.w3.org/ns/locn#",schema:"http://schema.org/",ex:"http://example.com/",gsp:"http://www.opengis.net/ont/geosparql#",odrs:"http://schema.theodi.org/odrs#"};let i=0;const o=(e,t,n)=>(r[e]||(r[e]=t),{abbrev:e,ns:t,localname:n,full:t+n,pretty:`${e}:${n}`}),s=e=>{const t=Object.keys(r).find(t=>0===e.indexOf(r[t]));if(t)return o(t,r[t],e.substring(r[t].length));let n=e.lastIndexOf("/");const s=e.lastIndexOf("#");return s>n&&(n=s),o(`ns${i+=1}`,e.substring(0,n+1),e.substring(n+1))};var a={nsify:s,shortenKnown:e=>{const t=Object.keys(r).find(t=>0===e.indexOf(r[t]));return t?o(t,r[t],e.substring(r[t].length)).pretty:e},shorten:e=>s(e).pretty,expand:e=>{const t=e.split(":");return 2===t.length&&r.hasOwnProperty(t[0])?r[t[0]]+t[1]:e},add:(e,t)=>{"string"==typeof e?r[e]=t:"object"==typeof e&&Object.keys(e).forEach(t=>{r[t]=e[t]})},registry:()=>r},u=n(3),l=n.n(u);const c=e=>void 0!==e&&(null===e||"object"==typeof e||Array.isArray(e)||"function"==typeof e),d=e=>"string"==typeof e||e instanceof String,h=(e,t,n)=>{0===e[t][n].length&&(delete e[t][n],0===Object.keys(e[t]).length&&delete e[t])},p=e=>{if(!c(e[0]))throw new Error("Graph is not a object.");if(!d(e[1]))throw new Error("Subject is not a string.");if(!d(e[2]))throw new Error("Predicate is not a string.");if(!c(e[3]))throw new Error("Object is not a object.");if(void 0===e[3].type)throw new Error("Object has no type attribute, must be one of 'uri', 'literal', or 'bnode'");if(void 0===e[3].value)throw new Error("Object has no value attribute corresponding to the lexical value of the object.")},f=(e,t)=>e===t||null==e&&e===t||(d(e)?d(t)?e===t:e===t.value:d(t)?e.value===t:e.type===t.type&&e.value===t.value&&e.lang===t.lang&&e.datatype===t.datatype);var g={isObject:c,isString:d,isFunction:e=>"[object Function]"===Object.prototype.toString.call(e),statementEquals:(e,t)=>e.s===t.s&&e.p===t.p&&f(e.o,t.o),add:(e,t,n,r)=>{if(p([e,t,n,r]),void 0===e[t])return e[t]={},e[t][n]=[r],r;if(void 0===e[t][n])return e[t][n]=[r],r;let i;const o=e[t][n];for(i=o.length-1;i>=0;i--)if(f(r,o[i]))return o[i];return o.push(r),r},remove:(e,t,n,r)=>{if(p([e,t,n,r]),void 0===e[t]||void 0===e[t][n])return;let i;const o=e[t][n];for(i=o.length-1;i>=0;i--)if(f(r,o[i])){const r=o[i];return o.splice(i,1),h(e,t,n),r}},contains:(e,t,n,r)=>{if(p([e,t,n,r]),void 0===e[t]||void 0===e[t][n])return;let i;const o=e[t][n];for(i=o.length-1;i>=0;i--)if(f(r,o[i]))return o[i]},cleanup:h,checkForWrongArgs:p,objectEquals:f,findDirectOrRDFValue:(e,t,n)=>{const r=e.find(t,n);if(r.length>0)return"bnode"!==r[0].getType()?r[0].getValue():e.findFirstValue(r[0].getValue(),"http://www.w3.org/1999/02/22-rdf-syntax-ns#value")}};class m{constructor(e,t,n,r,i){this._graph=e,this._s=t,this._p=n,this._o=r,this._o._statement=this,this._asserted=i}getGraph(){return this._graph}setAsserted(e){e!==this._asserted&&(e?this._graph.add(this,void 0,void 0,this._silentValue):this._graph.remove(this,this._silentValue),this._asserted=e)}isAsserted(){return this._asserted}getSubject(){return this._s}isSubjectBlank(){return!0!==this._sIsBlank&&!1!==this._sIsBlank&&(this._sIsBlank=0===this._s.indexOf("_:")),this._sIsBlank}isObjectBlank(){return"bnode"===this.getType()}setSubject(e){this._silentValue=!1;const t=a.expand(e);this._asserted?(this._graph.remove(this),this._s=t,this._graph.add(this),delete this._sIsBlank):this._s=t}getPredicate(){return this._p}setPredicate(e){this._silentValue=!1;const t=a.expand(e);this._asserted?(this._graph.remove(this),this._p=t,this._graph.add(this)):this._p=t}getNamedGraph(){return this._o.ng}setNamedGraph(e){this._o.ng=e}getObject(){return this._o}getCleanObject(){const e=this._o,t={value:e.value,type:e.type};return this._o.ng&&(t.ng=e.ng),e.lang&&(t.lang=e.lang),this._o.datatype&&(t.datatype=e.datatype),t}getType(){return this._o.type}setType(e){throw new Error("Changing the type of an object is not supported, create a new statement instead.")}getValue(){return this._o.value}setValue(e,t=!1){this._silentValue=!0===t,e!==this._o.value&&(this._o.value=e,this.isAsserted()&&!0!==t&&this._graph.setChanged())}getLanguage(){return this._o.lang}setLanguage(e,t){if(this._silentValue=!0===t,"literal"!==this._o.type)throw new Error("Cannot set the language for a resource, has to be a literal");this._o.lang!==e&&(this._o.lang=e,this.isAsserted()&&!0!==t&&this._graph.setChanged())}getDatatype(){return this._o.datatype}setDatatype(e,t){if(this._silentValue=!0===t,"literal"!==this._o.type||null!=this._o.lang)throw new Error("Cannot set the datatype for a resource, has to be a literal");this._o.datatype!==e&&(this._o.datatype=e,this.isAsserted()&&!0!==t&&this._graph.setChanged())}}var y=n(0),b=n.n(y);const v=(e,t,n,r,i)=>{t||new E;const o=r||{};return e.find(n,null,null).forEach(n=>{o[n.getPredicate()]?i&&t.add(n):(t.add(n),"bnode"===n.getType()&&v(e,t,n.getValue(),o))}),t},w=(e,t,n)=>{const r=n||{};e.find(t,null,null).forEach(t=>{e.remove(t),r[t.getPredicate()]||"bnode"===t.getType()&&w(e,t.getValue(),r)})};var N={extract:v,remove:w,fingerprint:(e,t)=>{const n=[],r=new Set((t||[]).map(e=>a.expand(e))),i=[],o={},s=e=>{let t=e.getValue();return e.getLanguage()&&(t+=`@${e.getLanguage()}`),e.getDatatype()&&(t+=`^^${e.getDatatype()}`),t},u=(e,t)=>{const n=o[e]||{rels:[]};o[e]=n,n.rels.push(t)};return e.find().forEach(e=>{const t=e.getSubject(),o=e.getPredicate();if(r.has(o))return;const a="bnode"===e.getType(),l=e.isSubjectBlank();if(l||a)return i.push(e),l&&u(e.getSubject(),a?o:o+s(e)),void("bnode"===e.getType()&&u(e.getValue(),l?o:t+o));n.push(t+o+s(e))}),Object.values(o).forEach(e=>{e.rels.sort(),e.hash=b()(e.rels.join(""))}),i.forEach(e=>{const t=[];t.push(e.isSubjectBlank()?o[e.getSubject()].hash:e.getSubject()),t.push(e.getPredicate()),t.push("bnode"===e.getType()?o[e.getValue()].hash:s(e)),n.push(t.join(""))}),n.sort(),b()(n.join(""))}};const _=e=>0===e.length?e:[e[0]],T=(e,t,n)=>({object(r){for(let i=0;i<t.length;i++){let o;if(n)o=t[i].getSubject();else{const e=t[i].getType();if("uri"===e||"bnode"===e)continue;o=t[i].getValue()}const s=e.find(o,r);s.length>0&&T(e,[s[0]])}return T(e,[])},objects(r){let i,o=[];if(!0===n)for(i=0;i<t.length;i++)o=o.concat(e.find(t[i].getSubject(),r));else for(i=0;i<t.length;i++){const n=t[i].getType();"uri"!==n&&"bnode"!==n||(o=o.concat(e.find(t[i].getValue(),r)))}return T(e,o)},constr(r,i){let o=i;g.isString(o)&&(o={type:"uri",value:o});const s=[];for(let i=0;i<t.length;i++){const a=n?t[i].getSubject():t[i].getValue();e.find(a,r,o).length>0&&s.push(t[i])}return T(e,s,n)},each(r,i){if(!0===n)for(let o=0;o<t.length;o++){const s="_:"===t[o].getSubject().substring(0,2)?"bnode":"uri";null!=i&&i!==s||r(T(e,t[o],n))}else for(let i=0;i<t.length;i++)r(T(e,t[i],n))},nodes(e){const r=[];if(!0===n)for(let n=0;n<t.length;n++){const i="_:"===t[n].getSubject().substring(0,2)?"bnode":"uri";null!=e&&e!==i||r.push({type:i,value:t[n].getSubject()})}else for(let n=0;n<t.length;n++)null!=e&&e!==t[n].getType()||r.push(t[n].getObject());return r},values(e){const r=[];if(!0===n)for(let n=0;n<t.length;n++){const i="_:"===t[n].getSubject().substring(0,2)?"bnode":"uri";null!=e&&e!==i||r.push(t[n].getSubject())}else for(let n=0;n<t.length;n++)null!=e&&e!==t[n].getType()||r.push(t[n].getValue());return r},firstValue(e){if(!0===n)for(let n=0;n<t.length;n++){const r="_:"===t[n].getSubject().substring(0,2)?"bnode":"uri";if(null==e||e===r)return t[n].getSubject()}else for(let n=0;n<t.length;n++)if(null==e||e===t[n].getType())return t[n].getValue()}});class E{constructor(e=null,t){this._graph=e||{},this._bnodes={},this._bnodesIndexed=!1,!1!==t&&this.validate(),this._changed=!1}isEmpty(){return!Object.keys(this._graph).find(e=>{const t=this._graph[e];return Object.keys(t).find(e=>t[e].find(e=>null==e._statement||e._statement.isAsserted()))})}onChange(){}setChanged(e){this._changed=!(!0!==e&&null!=e),this._changed&&this.onChange()}isChanged(){return this._changed}addAll(e,t){const n={};let r;const i=e.find();for(let e=0;e<i.length;e++){const o=i[e];let s=o.getSubject(),a=o.getPredicate();const u=o.getCleanObject();t&&(u.ng=t),0===s.indexOf("_:")&&(r=n[s]||this._newBNode(),n[s]=r,s=r),0===a.indexOf("_:")&&(r=n[a]||this._newBNode(),n[a]=r,a=r),"bnode"===u.type&&(r=n[u.value]||this._newBNode(),n[u.value]=r,u.value=r),this.add(s,a,u)}}add(e,t=null,n=null,r=!1){if(e instanceof m){const t=e.getPredicate(),n=e.getObject(),i=e.getSubject();this._trackBNodes(i,t,n);const o=this._graphObject(n),s=g.add(this._graph,i,t,o);return!0!==r&&this.setChanged(),this._get(i,t,s,!0)}return this.create(e,t,n,!0,r)}addL(e,t,n,r){const i={type:"literal",value:n};return"string"==typeof r&&(i.lang=r),this.create(e,t,i,!0)}addD(e,t,n,r){const i={type:"literal",value:n};return"string"==typeof r&&(i.datatype=a.expand(r)),this.create(e,t,i,!0)}create(e=null,t=null,n=null,r=!0,i=!1){let o=e,s=t,u=n;if(o=null==o?this._newBNode():a.expand(o),s=null==s?this._newBNode():a.expand(s),null==u?u={type:"bnode",value:this._newBNode()}:g.isString(u)?u={type:"uri",value:a.expand(u)}:("uri"===(u={type:u.type,value:u.value,lang:u.lang,datatype:u.datatype}).type&&null!=u.value&&(u.value=a.expand(u.value)),u.datatype&&(u.datatype=a.expand(u.datatype))),!1!==r){const e=g.add(this._graph,o,s,u);return!0!==i&&this.setChanged(),this._getOrCreate(o,s,e,!0)}return new m(this,o,s,u,!1)}findAndRemove(e,t,n,r=!1){const i=this.find(e,t,n);for(let e=0;e<i.length;e++)this.remove(i[e],r)}remove(e,t=!1){const n=e.getSubject(),r=e.getPredicate(),i=e.getObject();this._trackBNodes(n,r,i),null!=g.remove(this._graph,n,r,i)&&!0!==t&&this.setChanged()}find(e,t,n){let r=e,i=t,o=n;if("string"==typeof r&&(r=a.expand(r)),"string"==typeof i&&(i=a.expand(i)),"object"==typeof o&&null!==o&&"uri"===o.type?o.value=a.expand(o.value):"string"==typeof o&&(o={type:"uri",value:a.expand(o)}),null==o)return null==i?null==r?this._find():this._findS(r):null==r?this._findP(i):this._findSP(r,i);if(null==i)return null==r?this._findO(o):this._findSO(r,o);if(null==r)return this._findPO(i,o);const s=this._get(r,i,g.contains(this._graph,r,i,o),!0);return null==s?[]:[s]}findFirstValue(e,t){const n=this.find(e,t);if(n.length>0)return n[0].getValue()}projection(e,t,n){const r={};return Object.keys(t).forEach(i=>{const o=t[i],s=this.find(e,o);if(s.length>0)switch("*"===i[0]?r[i.substr(1)]=s.map(e=>e.getValue()):r[i]=s[0].getValue(),n||"none"){case"statement":r[`*${i}`]=s;break;case"objects":r[`*${i}`]=s.map(e=>e.getCleanObject());break;case"values":r[`*${i}`]=s.map(e=>e.getValue())}}),r}subjects(e,t){return T(this,this.find(null,e,t),!0)}subject(e,t){return T(this,_(this.find(null,e,t)),!0)}objects(e,t){return T(this,this.find(e,t,null))}object(e,t){return T(this,_(this.find(e,t,null)))}addList(e){return this._addList(e,"add")}addListL(e,t){return this._addList(e,"addL",t)}addListD(e,t){return this._addList(e,"addD",t)}_addList(e,t,n){let r;if(Array.isArray(e)&&0!==e.length){let i=r=this._newBNode();const o=e.length-1;e.forEach((e,r)=>{this[t](i,"rdf:first",e,n),r!==o?i=this.add(i,"rdf:rest").getValue():this.add(i,"rdf:rest","rdf:nil")})}else r=a.expand("rdf:nil");return r}removeList(e){let t=!1,n="object"==typeof e?e.value:e;try{const e=a.expand("rdf:nil");for(t=n===e;n!==e&&null!=n;){const e=this.findFirstValue(n,"rdf:rest");this.findAndRemove(n),t=null!=(n=e)}}catch(e){return console.warn(`Invalid list for object: ${n}`),!1}return t}getList(e){let t="object"==typeof e?e.value:e;const n=[];try{const e=a.expand("rdf:nil");for(;t!==e&&null!=t;)n.push(this.find(t,"rdf:first")[0].getObject()),t=this.findFirstValue(t,"rdf:rest")}catch(e){console.warn(`Invalid list for object: ${t}`)}return n}findFirstListAsValues(e,t){return this.getList(this.findFirstValue(e,t)).map(e=>e.value)}findAndRemoveLists(e,t){let n=!1;return this.find(e,t).forEach(e=>{this.removeList(e.getValue())&&(this.remove(e),n=!0)}),n}exportRDFJSON(){const e=this._graph,t={};return Object.keys(e).forEach(n=>{const r=e[n];t[n]={},Object.keys(r).forEach(e=>{const i=[];t[n][e]=i,r[e].forEach(e=>{const t={type:e.type,value:e.value};null!=e.ng&&(t.ng=e.ng),null!=e.lang&&(t.lang=e.lang),null!=e.datatype&&(t.datatype=e.datatype),i.push(t)})})}),t}replaceSubject(e,t){return this.replaceURI(e,t)}replaceURI(e,t){const n=this._graph;if(n.hasOwnProperty(e)){if(n.hasOwnProperty(t))throw new Error("Cannot replace subject with target URI since it already exists.");n[t]=n[e],delete n[e],this.forEach((n,r,i)=>{"uri"===i.type&&i.value===e&&(i.value=t),n===t&&i._statement&&(i._statement._s=t)})}return this}replaceBlankWithURI(e,t){const n=this._graph;if(n.hasOwnProperty(e)){if(n.hasOwnProperty(t))throw new Error("Cannot replace subject with target URI since it already exists.");n[t]=n[e],delete n[e],this.forEach((n,r,i)=>{"bnode"===i.type&&i.value===e&&(i.value=t,i.type="uri"),n===t&&i._statement&&(i._statement._s=t)})}return delete this._bnodes[e],this}clone(){return new E(this.exportRDFJSON())}findProperties(e){return Object.keys(this._graph[e]||{})}validate(){if(this.report=this._validate(),!this.report.valid)throw this.report;return this.report}registerBNode(e){this._bnodes[e]=!0}forEach(e){const t=this._graph;Object.keys(t).forEach(n=>{const r=t[n];Object.keys(r).forEach(t=>{r[t].forEach(r=>{e(n,t,r)})})})}map(e){const t=[];return this.forEach(n=>{t.push(e(n))}),t}equals(e,t){return N.fingerprint(this,t)===N.fingerprint(e,t)}size(){let e=0;return Object.values(this._graph).forEach(t=>{Object.values(t).forEach(t=>{e+=t.length})}),e}_get(e,t,n,r){if(null!=n)return this._getOrCreate(e,t,n,r)}_getOrCreate(e,t,n,r){return null==n._statement&&(n._statement=new m(this,e,t,n,r)),n._statement}_graphObject(e){return null==e._statement||e._statement._graph===this?e:{type:e.type,value:e.value,lang:e.lang,datatype:e.datatype}}_findSP(e,t){return null==this._graph[e]||null==this._graph[e][t]?[]:this._graph[e][t].map(n=>this._get(e,t,n,!0))}_findS(e){const t=this._graph[e],n=Object.keys(t||{}).map(t=>this._findSP(e,t));return Array.prototype.concat.apply([],n)}_find(){const e=[];return this.forEach((t,n,r)=>{e.push(this._get(t,n,r,!0))}),e}_findP(e){const t=[];return this.forEach((n,r,i)=>{e===r&&t.push(this._get(n,r,i,!0))}),t}_findO(e){const t=[];return this.forEach((n,r,i)=>{g.objectEquals(e,i)&&t.push(this._get(n,r,i,!0))}),t}_findSO(e,t){const n=[];return this.forEach((r,i,o)=>{e===r&&g.objectEquals(t,o)&&n.push(this._get(r,i,o,!0))}),n}_findPO(e,t){const n=[];return this.forEach((r,i,o)=>{e===i&&g.objectEquals(t,o)&&n.push(this._get(r,i,o,!0))}),n}_validate(){const e=this._graph,t={valid:!0,errors:[],nr:0};return Object.keys(e).forEach(n=>{const r=e[n];g.isObject(r)?Object.keys(r).forEach(e=>{const i=r[e];Array.isArray(i)?i.forEach((r,i)=>{g.isObject(r)?null!=r.type?g.isString(r.value)?t.nr+=1:(t.errors.push({s:n,p:e,oindex:i+1,message:`Object ${i+1} in object array must have the 'value' attribute pointing to a string.`}),t.valid=!1):(t.errors.push({s:n,p:e,oindex:i+1,message:`Object ${i+1} in object array lacks the attribute type, must be either 'literal', 'resource' or 'bnode'.`}),t.valid=!1):(t.errors.push({s:n,p:e,oindex:i+1,message:`Element ${i+1} in object array is not an object.`}),t.valid=!1)}):(t.errors.push({s:n,p:e,message:"Predicate must point to an array of objects."}),t.valid=!1)}):(t.errors.push({s:n,message:"Subject must point to an object."}),t.valid=!1)}),t}_newBNode(){let e,t,n;for(this._indexBNodes(),e=1;e<20;e++)for(t=1;t<=e;t++)if(n=`_:${Math.floor(Math.random()*(Math.pow(10,e)+1))}`,!0!==this._bnodes[n])return this._bnodes[n]=!0,n;throw new Error("Failed creating a new blank node, increadible unprobable...")}_indexBNodes(){if(this._bnodesIndexed)return;const e=this._graph;Object.keys(e).forEach(t=>{0===t.indexOf("_:")&&(this._bnodes[t]=!0);const n=e[t];Object.keys(n).forEach(e=>{0===e.indexOf("_:")&&(this._bnodes[e]=!0),n[e].forEach(e=>{"bnode"===e.type&&(this._bnodes[e.value]=!0)})})}),this._bnodesIndexed=!0}_trackBNodes(e,t,n){0===e.indexOf("_:")&&(this._bnodes[e]=!0),0===t.indexOf("_:")&&(this._bnodes[t]=!0),"bnode"===n.type&&(this._bnodes[n.value]=!0)}}const x=(e,t)=>{var n=t.indexOf("#");if(n>0&&(t=t.slice(0,n)),0==e.length)return t;if(0==e.indexOf("#"))return t+e;if(e.indexOf(":")>=0)return e;var r=t.indexOf(":");if(r<0)return console.log("Invalid base URL "+t),e;var i,o=t.slice(0,r+1);if(0==e.indexOf("//"))return o+e;if(t.indexOf("//",r)==r+1){if((i=t.indexOf("/",r+3))<0)return t.length-r-3>0?t+"/"+e:o+e}else if((i=t.indexOf("/",r+1))<0)return t.length-r-1>0?t+"/"+e:o+e;if(0==e.indexOf("/"))return t.slice(0,i)+e;var s=t.slice(i),a=s.lastIndexOf("/");if(a<0)return o+e;for(a>=0&&a<s.length-1&&(s=s.slice(0,a+1)),s+=e;s.match(/[^\/]*\/\.\.\//);)s=s.replace(/[^\/]*\/\.\.\//,"");return s=s.replace(/\.\//g,""),t.slice(0,i)+s};var S,D=S=function(e){S.ns={RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"},S.nodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},this.frameFactory=function(e,t,n){return{NODE:1,ARC:2,parent:t,parser:e,store:e.store,element:n,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(e,t){t=x(t,this.base),this.node=this.store.sym(t),this.nodeType=e},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),null!=this.parent.rdfid){var e=this.store.sym(x("#"+this.parent.rdfid,this.base));this.store.add(e,this.store.sym(S.ns.RDF+"type"),this.store.sym(S.ns.RDF+"Statement"),this.parser.why),this.store.add(e,this.store.sym(S.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(e,this.store.sym(S.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(e,this.store.sym(S.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return null!=this.parent&&null!=this.parent.parent&&this.nodeType==this.NODE&&this.parent.nodeType==this.ARC&&this.parent.parent.nodeType==this.NODE},addNode:function(e){this.addSymbol(this.NODE,e),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(e){null!=e?null!=this.parser.bnodes[e]?this.node=this.parser.bnodes[e]:this.node=this.parser.bnodes[e]=this.store.bnode():this.node=this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(e){e==S.ns.RDF+"li"&&(e=S.ns.RDF+"_"+this.parent.listIndex++),this.addSymbol(this.ARC,e)},addLiteral:function(e){this.parent.datatype?this.node=this.store.literal(e,"",this.store.sym(this.parent.datatype)):this.node=this.store.literal(e,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}},this.store=e,this.bnodes={},this.why=null,this.reify=!1,this.parse=function(e,t,n){var r,i=e.childNodes;if(this.cleanParser(),e.nodeType==S.nodeType.DOCUMENT){for(var o=0;o<i.length;o++)if(i[o].nodeType==S.nodeType.ELEMENT){r=i[o];break}}else{if(e.nodeType!=S.nodeType.ELEMENT)throw new Error("RDFParser: can't find root in "+t+". Halting. ");r=e}this.why=n;var s=this.frameFactory(this);return s.base=t,s.lang="",this.parseDOM(this.buildFrame(s,r)),!0},this.parseDOM=function(e){for(var t=function(e){return e.namespaceURI+e.localName},n=!0;e.parent;){var r,i,o=e.element,s=o.attributes;if(o.nodeType==S.nodeType.TEXT||o.nodeType==S.nodeType.CDATA_SECTION)e.addLiteral(o.nodeValue);else if(t(o)!=S.ns.RDF+"RDF")if(e.parent&&e.parent.collection&&(e.addCollectionArc(),(e=this.buildFrame(e,e.element)).parent.element=null),e.parent&&e.parent.nodeType&&e.parent.nodeType!=e.ARC){e.addArc(t(o)),this.reify&&(r=o.getAttributeNodeNS(S.ns.RDF,"ID"))&&(e.rdfid=r.nodeValue,o.removeAttributeNode(r));var a=o.getAttributeNodeNS(S.ns.RDF,"parseType"),u=o.getAttributeNodeNS(S.ns.RDF,"datatype");if(u&&(e.datatype=u.nodeValue,o.removeAttributeNode(u)),a){var l=a.nodeValue;"Literal"==l?(e.datatype=S.ns.RDF+"XMLLiteral",(e=this.buildFrame(e)).addLiteral(o),n=!1):"Resource"==l?((e=this.buildFrame(e,e.element)).parent.element=null,e.addBNode()):"Collection"==l&&((e=this.buildFrame(e,e.element)).parent.element=null,e.addCollection()),o.removeAttributeNode(a)}if(0!=s.length){var c=o.getAttributeNodeNS(S.ns.RDF,"resource");for(i=o.getAttributeNodeNS(S.ns.RDF,"nodeID"),e=this.buildFrame(e),c?(e.addNode(c.nodeValue),o.removeAttributeNode(c)):i?(e.addBNode(i.nodeValue),o.removeAttributeNode(i)):e.addBNode(),f=s.length-1;f>=0;f--){var d=this.buildFrame(e);d.addArc(t(s[f])),t(s[f])==S.ns.RDF+"type"?this.buildFrame(d).addNode(s[f].nodeValue):this.buildFrame(d).addLiteral(s[f].nodeValue)}}else 0==o.childNodes.length&&this.buildFrame(e).addLiteral("")}else{var h=o.getAttributeNodeNS(S.ns.RDF,"about");if(r=o.getAttributeNodeNS(S.ns.RDF,"ID"),h&&r)throw new Error("RDFParser: "+o.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");null==h&&r?(e.addNode("#"+r.nodeValue),o.removeAttributeNode(r)):null==h&&null==r?(i=o.getAttributeNodeNS(S.ns.RDF,"nodeID"))?(e.addBNode(i.nodeValue),o.removeAttributeNode(i)):e.addBNode():(e.addNode(h.nodeValue),o.removeAttributeNode(h));var p=o.getAttributeNodeNS(S.ns.RDF,"type");S.ns.RDF+"Description"!=t(o)&&(p={nodeValue:t(o)}),null!=p&&(this.store.add(e.node,this.store.sym(S.ns.RDF+"type"),this.store.sym(x(p.nodeValue,e.base)),this.why),p.nodeName&&o.removeAttributeNode(p));for(var f=s.length-1;f>=0;f--)this.store.add(e.node,this.store.sym(t(s[f])),this.store.literal(s[f].nodeValue,e.lang),this.why)}for(o=e.element;e.parent;){for(var g=e;null==o;)o=(e=e.parent).element;var m=o.childNodes,y=null!=m?m[e.lastChild]:null;if(null!=y&&n){if((y.nodeType==S.nodeType.ELEMENT||y.nodeType==S.nodeType.TEXT||y.nodeType==S.nodeType.CDATA_SECTION)&&(y.nodeType!=S.nodeType.TEXT&&y.nodeType!=S.nodeType.CDATA_SECTION||1==o.childNodes.length)){e.lastChild++,e=this.buildFrame(g,o.childNodes[e.lastChild-1]);break}e.lastChild++}else{if(e.terminateFrame(),!(e=e.parent))break;o=e.element,n=!0}}}},this.cleanParser=function(){this.bnodes={},this.why=null},this.buildFrame=function(e,t){var n=this.frameFactory(this,e,t);if(e&&(n.base=e.base,n.lang=e.lang),null==t||t.nodeType==S.nodeType.TEXT||t.nodeType==S.nodeType.CDATA_SECTION)return n;var r=t.attributes,i=t.getAttributeNode("xml:base");null!=i&&(n.base=i.nodeValue,t.removeAttribute("xml:base"));var o=t.getAttributeNode("xml:lang");null!=o&&(n.lang=o.nodeValue,t.removeAttribute("xml:lang"));for(var s=r.length-1;s>=0;s--)"xml"==r[s].nodeName.substr(0,3)&&t.removeAttributeNode(r[s]);return n}};const O=e=>"object"==typeof e?e:"string"==typeof e?new F(e):void(void 0!==e&&alert(`Can't make term from ${e} of type ${typeof e}`)),C=function(){return this};C.prototype.termType="empty",C.prototype.toString=function(){return""},C.prototype.toNT=function(){return""};const A=function(){return function(e){return"<"+e.uri+">"}(this)},j=function(e){return this.uri=e,this};j.prototype.termType="symbol",j.prototype.toString=A,j.prototype.toNT=A;let I=0;const R=function(){return this.id=I++,this};R.prototype.termType="bnode",R.prototype.toNT=function(){return"_:n"+this.id},R.prototype.toString=R.prototype.toNT;const F=function(e,t,n){return this.value=e,this.lang=t,this.datatype=n,this};F.prototype.termType="literal",F.prototype.toNT=function(){const e=this.value;if("string"!=typeof e)throw Error("Value of RDF literal is not string: "+e);return e=e.replace(/\\/g,"\\\\"),e=e.replace(/"/g,'\\"'),e='"'+e+'"',this.datatype&&(e=e+"^^"+this.datatype),this.lang&&(e=e+"@"+this.lang),e},F.prototype.toString=function(){return this.value};const k=function(){this.id=I++,this.elements=[],this.closed=!1};k.prototype.termType="collection",k.prototype.toNT=function(){return"_:n"+this.id},k.prototype.toString=k.prototype.toNT,k.prototype.append=function(e){this.elements.push(e)},k.prototype.close=function(){this.closed=!0};const M=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+" ."},L=function(e,t,n,r){return this.subject=O(e),this.predicate=O(t),this.object=O(n),void 0!==r&&(this.why=r),this};L.prototype.toNT=M,L.prototype.toString=M;const B=function(){return this.statements=[],this.constraints=[],this.initBindings=[],this.optional=[],this},V=function(){return"{\n"+this.statements.join("\n")+"}"};B.prototype.termType="formula",B.prototype.toNT=V,B.prototype.toString=V,B.prototype.add=function(e,t,n,r){this.statements.push(new L(e,t,n,r))},B.prototype.sym=function(e,t){return null!=t&&(e=this.namespaces[e]+t),new j(e)},B.prototype.literal=function(e,t,n){return new F(e.toString(),t,n)},B.prototype.bnode=function(){return new R},B.prototype.formula=function(){return new B},B.prototype.collection=function(){return new k};const $=function(e){return this.uri=x(e,"varid:"),this};$.prototype.termType="variable",$.prototype.toNT=function(){return"varid:"==this.uri.slice(0,"varid:".length)?`?${this.uri.slice("varid:".length)}`:`?${this.uri}`},$.prototype.toString=$.prototype.toNT,$.prototype.classOrder=7,B.prototype.variable=function(e){return new $(e)},$.prototype.hashString=$.prototype.toNT,B.prototype.fromNT=function(e){const t=e.length,n=e.slice(0,1);if("<"===n)return this.sym(e.slice(1,t-1));if("_"===n){const t=new R;return t.id=parseInt(e.slice(3)),I--,t}alert(`Can't yet convert from NT: '${e}', ${e[0]}`)};let P,U;if("undefined"==typeof window||void 0===window.DOMParser&&"undefined"==typeof ActiveXObject){P=(e=>(new XMLSerializer).serializeToString(e));const e=l.a.DOMParser;U=(t=>(new e).parseFromString(t,"text/xml"))}else P=(e=>e.xml),U=(e=>{let t;try{if(window.DOMParser){t=(new DOMParser).parseFromString(e,"text/xml")}else(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)}catch(e){t=null}if(!t||!t.documentElement||t.getElementsByTagName("parsererror").length)throw new Error("Could not parse text as xml");return t});const X=e=>{if(/["<>^`{|}]/i.test(e))throw Error({message:`URL "${e}" is not allowed to contain special characters " < > \\ ^ \` { | or }.`,character:!0});if(!/^(?:[a-z][a-z0-9+.-]*:)/i.test(e))throw Error({message:`Relative URL not supported: ${e}`,relative:!0});if(/ /i.test(e)){if(exports.convertSpacesInURIs)return e.replace(/ /g,"%20");throw Error({message:`Spaces inside of URL not supported: ${e}`,space:!0})}return e},q=(e,t=null)=>{let n=e;g.isString(n)&&(n=U(n));const r=t||new E({}),i=new B;return i.add=((e,t,n)=>{let i,o;const s={};e instanceof R?(i=e.toString(),r.registerBNode(i)):(e.uri=X(e.uri),i=e.uri),t instanceof R?(o=t.toString(),r.registerBNode(o)):(t.uri=X(t.uri),o=t.uri),n instanceof F?(s.type="literal",s.value=n.value,n.lang&&(s.lang=n.lang),n.datatype&&(s.datatype=n.datatype.uri)):n instanceof j?(n.uri=X(n.uri),s.type="uri",s.value=n.uri):n instanceof R&&(s.value=n.toString(),r.registerBNode(s.value),s.type="bnode"),r.create(i,o,s,!0)}),new D(i).parse(n,"",""),r},z=e=>encodeURI(decodeURI(e)).replace(/&/g,"&amp;");var H={xml2string:P,string2xml:U,rdfxml2graph:q,rdfjson2rdfxml:e=>{const t=e instanceof E?e._graph:e||{},n=[],r={},i=[];Object.keys(t).forEach(e=>{"_:"===e.substr(0,2)?i.push(`  <rdf:Description rdf:nodeID="_${e.substring(2)}">\n`):i.push(`  <rdf:Description rdf:about="${z(e)}">\n`);const o=t[e];Object.keys(o).forEach(e=>{const t=function(e){const t=a.nsify(e);return r[t.abbrev]||(n.push(t.abbrev),r[t.abbrev]=t.ns),t.pretty}(e);o[e].forEach(e=>{let n;switch(e.type){case"literal":n=e.value.replace("&","&amp;").replace("<","&lt;"),null!=e.lang?i.push(`    <${t} xml:lang="${e.lang}">${n}</${t}>\n`):null!=e.datatype?i.push(`    <${t} rdf:datatype="${e.datatype}">${n}</${t}>\n`):i.push(`    <${t}>${n}</${t}>\n`);break;case"uri":i.push(`    <${t} rdf:resource="${z(e.value)}"/>\n`);break;case"bnode":"_:"===e.value.substr(0,2)?i.push(`    <${t} rdf:nodeID="_${e.value.substring(2)}"/>\n`):i.push(`    <${t} rdf:nodeID="${e.value}"/>\n`)}})}),i.push("  </rdf:Description>\n")});const o=['<?xml version="1.0"?>\n<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"'];for(let e=0;e<n.length;e++)"rdf"!==n[e]&&o.push(`\n\txmlns:${n[e]}="${r[n[e]]}"`);return o.push(">\n"),i.unshift(o.join("")),i.push("</rdf:RDF>"),i.join("")},detect:e=>{const t={};if("string"==typeof e)if(-1!==e.substr(0,200).toLowerCase().indexOf("<rdf:rdf")){t.format="rdf/xml";try{t.graph=q(e)}catch(e){e.relative||e.space||e.character?(t.error=e.message,t.errorCode=1):(t.error="Invalid rdf/xml",t.errorCode=2)}}else if('{"'===e.substring(0,2)){t.format="rdf/json";try{const e=JSON.parse((void 0).rdfjson);t.graph=new E(e)}catch(e){t.error="Invalid json.",t.errorCode=3}}else t.error="No RDF detected.",t.errorCode=4;else e instanceof E?(t.format="rdf/json",t.graph=e):"object"==typeof e?(t.format="rdf/json",t.graph=new E(e)):(t.error="unknown format",t.errorCode=5);t.error||t.graph.validate().valid||(t.error="RDF/JSON is not valid.",t.errorCode=6);return t}};const G=(e,t,n)=>{const r=n||{},i=e?e.find(t):[],o=[];for(let t=0;t<i.length;t++){const n=i[t];if("literal"===n.getType())o.push({stmt:n});else{const t={stmt:n},i=n.getValue();r[i]||(r[i]=!0,t.children=G(e,i,r))}}return o},Y=(e,t)=>{const n=G(e,t),r=[],i=(e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];o.indent=t,r.push(o),o.children&&(i(o.children,t+1),delete o.children)}};return i(n,1),r};var W={pretty:(e,t)=>{const n={},r=e.find(t);for(let e=0;e<r.length;e++){const t=r[e];"bnode"!==t.getType()&&(n[a.shorten(t.getPredicate())]=t.getValue())}return n},statementList:Y,statementTree:G,prettyTree:(e,t)=>{const n=Y(e,t);for(let e=0;e<n.length;e++){const t=n[e],r=t.stmt;r.isSubjectBlank()?t.s=r.getSubject():t.s=a.shorten(r.getSubject()),t.p=a.shorten(r.getPredicate());const i=r.getType();if("uri"===i){t.o=a.shorten(r.getValue());const e=r.getLanguage(),n=r.getDatatype();null!=e?t.o+=`@@${e}`:null!=n&&(t.o+=`^^${n}`)}else t.o=`"${r.getValue()}"`}return n}};n.d(t,"namespaces",function(){return a}),n.d(t,"converters",function(){return H}),n.d(t,"Graph",function(){return E}),n.d(t,"Statement",function(){return m}),n.d(t,"utils",function(){return N}),n.d(t,"print",function(){return W})}]);